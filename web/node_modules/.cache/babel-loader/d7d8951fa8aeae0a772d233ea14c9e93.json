{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/king/playground/meetup-analyzer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/king/playground/meetup-analyzer/src/features/singleMeetingAnalysis/components/AttendanceBySignupDate.tsx\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n          display: grid;\\n          grid-template-columns: 2fr 3fr;\\n          margin-bottom: 50px;\\n        \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n        width: 800px;\\n        margin: auto;\\n        margin-bottom: 200px;\\n        margin-top: 100px;\\n      \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport { getAttendanceRateBySignupDate, getFirstWeekSignups, getLastWeekSignups, getAttendeesBySignupDateTable } from \"features/singleMeetingAnalysis/SingleMeetingAnalysisUtils\";\nimport PercentageProgressBar from \"./PercentageProgressBar\";\nimport _ from \"lodash\";\n/** @jsx jsx */\n\nimport { css, jsx } from \"@emotion/core\";\nimport AttendanceBySignupDateTable from \"./AttendanceBySignupDateTable\";\n\nvar AttendanceBySignupDate = function AttendanceBySignupDate(_ref) {\n  var attendees = _ref.attendees,\n      eventDate = _ref.eventDate;\n  var rateByDate = getAttendanceRateBySignupDate(attendees, eventDate);\n  var lastDay = _.size(rateByDate) - 1;\n  var lastDayKey = lastDay.toString();\n  var secondLastDayKey = (lastDay - 1).toString();\n  var firstWeek = getFirstWeekSignups(rateByDate);\n  var lastWeek = getLastWeekSignups(rateByDate);\n  var tableData = getAttendeesBySignupDateTable(rateByDate);\n  return jsx(\"div\", {\n    css: css(_templateObject()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, jsx(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Attendance By Signup Date\"), jsx(\"div\", {\n    id: \"AttendeePercentagesByMeetupRegistrationDate\",\n    css: css(_templateObject2()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, !_.isEmpty(rateByDate) && jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, firstWeek ? jsx(PercentageProgressBar, {\n    text: \"First Week\",\n    numerator: firstWeek.attended,\n    denominator: firstWeek.rsvped,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }) : jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Not enough days for first week data \"), lastWeek ? jsx(PercentageProgressBar, {\n    text: \"Last Week\",\n    numerator: lastWeek.attended,\n    denominator: lastWeek.rsvped,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }) : jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Not enough days for first week data \"), jsx(PercentageProgressBar, {\n    text: \"Day Before\",\n    numerator: rateByDate[secondLastDayKey].attended,\n    denominator: rateByDate[secondLastDayKey].rsvped,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), jsx(PercentageProgressBar, {\n    text: \"Last Day\",\n    numerator: rateByDate[lastDayKey].attended,\n    denominator: rateByDate[lastDayKey].rsvped,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }))), jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, jsx(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Dates with More than 5 RSVPs\"), jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, jsx(AttendanceBySignupDateTable, {\n    data: tableData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }))));\n};\n\nexport default AttendanceBySignupDate;","map":{"version":3,"sources":["/Users/king/playground/meetup-analyzer/src/features/singleMeetingAnalysis/components/AttendanceBySignupDate.tsx"],"names":["React","getAttendanceRateBySignupDate","getFirstWeekSignups","getLastWeekSignups","getAttendeesBySignupDateTable","PercentageProgressBar","_","css","jsx","AttendanceBySignupDateTable","AttendanceBySignupDate","attendees","eventDate","rateByDate","lastDay","size","lastDayKey","toString","secondLastDayKey","firstWeek","lastWeek","tableData","isEmpty","attended","rsvped"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  getAttendanceRateBySignupDate,\n  getFirstWeekSignups,\n  getLastWeekSignups,\n  getAttendeesBySignupDateTable\n} from \"features/singleMeetingAnalysis/SingleMeetingAnalysisUtils\";\nimport { AttendeeData } from \"features/singleMeetingAnalysis/SingleMeetupTypes\";\nimport PercentageProgressBar from \"./PercentageProgressBar\";\nimport _ from \"lodash\";\n/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport AttendanceBySignupDateTable from \"./AttendanceBySignupDateTable\";\n\ntype Props = {\n  attendees: AttendeeData[];\n  eventDate: string;\n};\nconst AttendanceBySignupDate = ({ attendees, eventDate }: Props) => {\n  const rateByDate = getAttendanceRateBySignupDate(attendees, eventDate);\n  const lastDay = _.size(rateByDate) - 1;\n  const lastDayKey = lastDay.toString();\n  const secondLastDayKey = (lastDay - 1).toString();\n\n  const firstWeek = getFirstWeekSignups(rateByDate);\n  const lastWeek = getLastWeekSignups(rateByDate);\n\n  const tableData = getAttendeesBySignupDateTable(rateByDate);\n  return (\n    <div\n      css={css`\n        width: 800px;\n        margin: auto;\n        margin-bottom: 200px;\n        margin-top: 100px;\n      `}\n    >\n      <h3>Attendance By Signup Date</h3>\n\n      <div\n        id=\"AttendeePercentagesByMeetupRegistrationDate\"\n        css={css`\n          display: grid;\n          grid-template-columns: 2fr 3fr;\n          margin-bottom: 50px;\n        `}\n      >\n        {!_.isEmpty(rateByDate) && (\n          <React.Fragment>\n            {firstWeek ? (\n              <PercentageProgressBar\n                text=\"First Week\"\n                numerator={firstWeek.attended}\n                denominator={firstWeek.rsvped}\n              />\n            ) : (\n              <div>Not enough days for first week data </div>\n            )}\n            {lastWeek ? (\n              <PercentageProgressBar\n                text=\"Last Week\"\n                numerator={lastWeek.attended}\n                denominator={lastWeek.rsvped}\n              />\n            ) : (\n              <div>Not enough days for first week data </div>\n            )}\n            <PercentageProgressBar\n              text=\"Day Before\"\n              numerator={rateByDate[secondLastDayKey].attended}\n              denominator={rateByDate[secondLastDayKey].rsvped}\n            />\n            <PercentageProgressBar\n              text=\"Last Day\"\n              numerator={rateByDate[lastDayKey].attended}\n              denominator={rateByDate[lastDayKey].rsvped}\n            />\n          </React.Fragment>\n        )}\n      </div>\n      <div>\n        <h4>Dates with More than 5 RSVPs</h4>\n        <div>\n          <AttendanceBySignupDateTable data={tableData} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AttendanceBySignupDate;\n"]},"metadata":{},"sourceType":"module"}